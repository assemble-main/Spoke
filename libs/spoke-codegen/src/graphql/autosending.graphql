fragment AutosendingTarget on Campaign {
  id
  title
  autosendStatus
  contactsCount
  stats {
    optOutsCount
    percentUnhandledReplies
    receivedMessagesCount
    countMessagedContacts
  }
  deliverabilityStats {
    deliveredCount
    sendingCount
    sentCount
    errorCount
  }
}

query CampaignsEligibleForAutosending($organizationId: String!) {
  organization(id: $organizationId) {
    id
    campaigns(
      campaignsFilter: { isArchived: false, isStarted: true }
      cursor: { offset: 0, limit: 5000 }
    ) {
      campaigns {
        ...AutosendingTarget
      }
    }
  }
}

mutation StartAutosending($campaignId: String!) {
  startAutosending(campaignId: $campaignId) {
    id
    autosendStatus
  }
}

mutation PauseAutosending($campaignId: String!) {
  pauseAutosending(campaignId: $campaignId) {
    id
    autosendStatus
  }
}
